[
  {
    "objectID": "projects.html",
    "href": "projects.html",
    "title": "Projects",
    "section": "",
    "text": "Date\n\n\n\nTitle\n\n\n\nAuthor\n\n\n\n\n\n\n\n\n07-24-2025\n\n\nLC-MS data\n\n\nJinYoung Park\n\n\n\n\n\n\n \n\n\nnumber 2\n\n\n \n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "projects/Class_presentation.html",
    "href": "projects/Class_presentation.html",
    "title": "LC-MS data",
    "section": "",
    "text": "##On this page\n##Experiment design\n##Package Used\nlibrary(tidyverse)\nlibrary(tidymodels)"
  },
  {
    "objectID": "projects/Class_presentation.html#loading-data",
    "href": "projects/Class_presentation.html#loading-data",
    "title": "LC-MS data",
    "section": "Loading Data",
    "text": "Loading Data\n\nID &lt;- read.csv(\"csv/BOA Team Metabolomics Master Sample Decode.csv\")\ndata &lt;- read.csv(\"csv/MBL BoA Run 2 Neg.csv\")\ndataPos &lt;- read.csv(\"csv/MBL BoA Run 2 Pos.csv\")\n\n#split planaria data from the scan\npladata &lt;- data %&gt;% \n  select(compound, any_of(ID$sampleId))\n\npladataPos &lt;- dataPos %&gt;% \n  select(compound, any_of(ID$sampleId))\n\ncolnames(pladata)\n\n [1] \"compound\" \"H1\"       \"H2\"       \"H3\"       \"H4\"       \"H5\"      \n [7] \"H6\"       \"H7\"       \"H8\"       \"H9\"       \"H10\"      \"H11\"     \n[13] \"H12\"     \n\ndim(pladata)\n\n[1] 332  13\n\nplaData &lt;- rbind(pladata, pladataPos)\nplaData$compound &lt;- make.unique(plaData$compound)\n\ndim(plaData)\n\n[1] 497  13\n\nplaDataLong &lt;- pivot_longer(plaData,cols = c(2:13), names_to = \"sampleId\", values_to = \"IC\")\n\nplaDataLong &lt;- merge(plaDataLong, ID, by = \"sampleId\")\n\ndim(plaDataLong)\n\n[1] 5964    5\n\ncolnames(plaDataLong)\n\n[1] \"sampleId\" \"compound\" \"IC\"       \"organism\" \"time\"    \n\ntable(plaDataLong$time)\n\n\n  0h  24h  48h   6h \n1491 1491 1491 1491 \n\n\n#Drawing PCA plot ## Prep the Data\n\n#set a seed in order to make the analysis reproducible\nset.seed(11)\n\n# change into wide\nplaDataWide &lt;- plaDataLong %&gt;%\n  pivot_wider(\n    id_cols = c(sampleId, organism, time), \n    names_from = compound,\n    values_from = IC)\n\n# generate reciepe\npca_recipe &lt;- recipe(~ ., data = plaDataWide) %&gt;%\n  update_role(sampleId, organism, time, new_role = \"id\")\n\nsummary(pca_recipe)\n\n# A tibble: 500 × 4\n   variable                type      role      source  \n   &lt;chr&gt;                   &lt;list&gt;    &lt;chr&gt;     &lt;chr&gt;   \n 1 sampleId                &lt;chr [3]&gt; id        original\n 2 organism                &lt;chr [3]&gt; id        original\n 3 time                    &lt;chr [3]&gt; id        original\n 4 Lys-Gly                 &lt;chr [2]&gt; predictor original\n 5 Indolelactic acid       &lt;chr [2]&gt; predictor original\n 6 4-Methylene-glutamine   &lt;chr [2]&gt; predictor original\n 7 LysoPC(20:0)            &lt;chr [2]&gt; predictor original\n 8 PE(38:3)                &lt;chr [2]&gt; predictor original\n 9 N-Acetylneuraminic acid &lt;chr [2]&gt; predictor original\n10 Glycerol 3-phosphate    &lt;chr [2]&gt; predictor original\n# ℹ 490 more rows\n\npca_recipe &lt;- recipe(~ ., data = plaDataWide) %&gt;%\n  update_role(sampleId, organism, time, new_role = \"id\") %&gt;% \n  step_scale(all_predictors()) %&gt;%  \n  step_center(all_predictors()) %&gt;%\n  step_pca(all_predictors(), id = \"pca\")\n\npca_recipe\n\n# apply recipe\npca_prepped &lt;- prep(pca_recipe)\npca_prepped\npca_baked &lt;- bake(pca_prepped, plaDataWide)\npca_baked\n\n# A tibble: 12 × 8\n   sampleId organism time       PC1    PC2      PC3   PC4     PC5\n   &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;\n 1 H1       Planaria 48h   -12.1    -5.59  -10.4    -3.27 -3.94  \n 2 H10      Planaria 0h      9.89   -5.25    0.791  -3.62 10.4   \n 3 H11      Planaria 0h     29.1     5.26   -1.17    3.92 -6.16  \n 4 H12      Planaria 0h     -0.0141 -4.93   11.9    -9.59 -8.38  \n 5 H2       Planaria 48h   -14.6    -2.58   -4.47   -2.69 -1.35  \n 6 H3       Planaria 48h   -10.1    23.2    -1.21   -1.99 -0.0971\n 7 H4       Planaria 24h   -12.1    -1.16   13.4     9.50  1.43  \n 8 H5       Planaria 24h    -0.583  -6.20   -5.86   11.9  -3.77  \n 9 H6       Planaria 24h    -7.35   -2.38   -0.0663  1.83  2.68  \n10 H7       Planaria 6h      5.30    2.70    0.333   3.12  3.34  \n11 H8       Planaria 6h      7.31   -2.16   -2.03   -5.17 -2.86  \n12 H9       Planaria 6h      5.26   -0.919  -1.21   -3.92  8.70"
  },
  {
    "objectID": "publication.html",
    "href": "publication.html",
    "title": "Publication",
    "section": "",
    "text": "No matching items"
  }
]